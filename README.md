# plume_bloom_drivers
Using classified raster images and meteo drivers to try to better understand what is causing sediment plumes and blooms in Lake Superior. The input data for this repo comes from the [rossyndicate/Superior-Plume-Bloom](https://github.com/rossyndicate/Superior-Plume-Bloom) repo.

## Building the pipeline

This pipeline is setup to download, process, and run models for detecting blooms and plumes. It is structured as a [`{{targets}}`](https://docs.ropensci.org/targets/) pipeline so that the workflow is easily reproducible and can be followed. The pipeline and workflow be run easily using `tar_make()`. The first time you run this, you may get errors about missing packages. Install those and then try again.

At this time, the raster files are kept in a Google Drive folder where you need to have specific access. The data may be released in the future, which would make this step easier. For now, you need to follow the steps below in order to authenticate to Google Drive when running `tar_make()`.

1. Create a new text file called `.gd_config` and save in the top-level directory of this project.
2. Copy-paste this code into that file: `gd_email: 'YOUR_EMAIL@some.service'`
3. Change the `YOUR_EMAIL@some.service` part of the file to match your own email that you will use to access the data.
4. Then, try running `tar_make()`.

## Contributing to this pipeline

Everyone who is developing this pacakge will build their own pipeline locally. We will not commit output of the pipeline and should `.gitignore` and files generated by the pipeline build. **The very first time you build the pipeline**, you should delete the `_targets/.gitignore` file. It overrides the top-level gitignore and can be frustrating. Run the following to delete it: `file.remove('_targets/.gitignore')`.

